<div class="min-h-screen flex items-center">
  <form
    [formGroup]="dynamicForm"
    (ngSubmit)="submitForm()"
    class="min-w-lg mx-auto bg-white p-6 shadow-lg rounded-lg space-y-4"
  >
    <div>
      <label class="block text-sm font-medium text-gray-700">Name:</label>
      <input
        formControlName="name"
        class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"
      />
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Email:</label>
      <input
        formControlName="email"
        type="email"
        class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"
      />
    </div>

    <div formArrayName="fields" class="space-y-4">
      @for(field of fields.controls; let i = $index; track field) {
      <div [formGroupName]="i" class="p-4 bg-gray-100 rounded-lg shadow">
        <label class="block text-sm font-medium text-gray-700">
          Label:
          <input
            formControlName="label"
            class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"
          />
        </label>
        <label class="block text-sm font-medium text-gray-700 mt-2">
          Value:
          <input
            formControlName="value"
            class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"
          />
        </label>
        <button
          type="button"
          (click)="removeField(i)"
          class="mt-3 w-full bg-red-500 text-white py-2 px-4 rounded-md hover:bg-red-600"
        >
          Remove
        </button>
      </div>
      }
    </div>

    <button
      type="button"
      (click)="addField()"
      class="w-full bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600"
    >
      Add Field
    </button>

    <button
      type="submit"
      class="w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600"
    >
      Submit
    </button>
  </form>
</div>
